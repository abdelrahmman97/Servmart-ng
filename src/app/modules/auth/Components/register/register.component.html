<div class="container">

	<div class="text-center pt-2 mb-5">
		<h2 class="text-primary">إنشاء حساب</h2>
		<p class="mb-0 lead">لديك حساب بالفعل !
			<a href="#" [routerLink]="['/auth/login']" class="text-primary text-decoration-none lead">
				تسجيل الدخول
			</a>
		</p>
	</div>

	<div class="row justify-content-center">
		<div class="col-lg-6 align-self-center">
			<div class="form-outer">
				<form action="prevent-submite" [formGroup]="registerForm">

					<div class="page slidepage" *ngIf="step==1">
						<div class="mb-3 text-end title">معلومات تسجيل الدخول</div>
						<div class="form-floating mb-3">
							<input placeholder="Enter your username" class="form-control" type="email"
								formControlName="Email" id="email"
								[ngClass]="{'is-invalid': registerForm.get('Email').touched && registerForm.get('Email').invalid || registerForm.get('Email').hasError('invalidEmail')}">
							<label for="email" class="form-label">البريد الإلكتروني</label>
							<span
								*ngIf="registerForm.get('Email').touched && registerForm.get('Email').hasError('required') || registerForm.get('Email').hasError('invalidEmail')"
								class="invalid-feedback">
								البريد الالكتروني غير صالح
							</span>
						</div>
						<div class="form-floating mb-3">
							<input placeholder="Enter your username" class="form-control" type="text"
								formControlName="Username" id="username"
								[ngClass]="{'is-invalid': registerForm.get('Username').touched && registerForm.get('Username').invalid}">
							<label for="username" class="form-label">اسم المستخدم</label>
							<span
								*ngIf="registerForm.get('Username').touched && registerForm.get('Username').hasError('required')"
								class="invalid-feedback">
								اسم المستخدم غير صالح
							</span>
						</div>
						<div class="input-group mb-3">
							<div class="form-floating">
								<input placeholder="Enter your username" class="form-control"
									[type]="showPassword ? 'text' : 'password'" formControlName="Password" id="password"
									[ngClass]="{'is-invalid': registerForm.get('Password').touched && registerForm.get('Password').invalid}">
								<label for="Password" class="form-label">كلمة المرور</label>
							</div>
							<button class="btn btn-outline-light" (click)="showPassword=!showPassword">
								<i *ngIf="!showPassword" class="fa-duotone fa-eye-slash"></i>
								<i *ngIf="showPassword" class="fa-duotone fa-eye"></i>
							</button>
							<span
								*ngIf="registerForm.get('Password').touched && registerForm.get('Password').hasError('required') || registerForm.get('Password').hasError('minlength')"
								class="invalid-feedback">
								كلمة المرور غير صالحة
							</span>
						</div>
						<div class="input-group mb-3">
							<div class="form-floating">
								<input placeholder="Enter Confirm Password" class="form-control"
									[type]="showConfirmPassword ? 'text' : 'password'" formControlName="ConfirmPassword"
									id="ConfirmPassword"
									[ngClass]="{'is-invalid': registerForm.get('ConfirmPassword').touched && registerForm.get('ConfirmPassword').invalid || registerForm.get('ConfirmPassword').hasError('confirmedValidator')}">
								<label for="ConfirmPassword" class="form-label">تأكيد كلمة المرور</label>
							</div>
							<button class="btn btn-outline-light" (click)="showConfirmPassword=!showConfirmPassword">
								<i *ngIf="!showConfirmPassword" class="fa-duotone fa-eye-slash"></i>
								<i *ngIf="showConfirmPassword" class="fa-duotone fa-eye"></i>
							</button>
							<span
								*ngIf="registerForm.get('ConfirmPassword').touched && registerForm.get('ConfirmPassword').hasError('required') || registerForm.get('ConfirmPassword').hasError('confirmedValidator')"
								class="invalid-feedback">
								كلمة المرور غير متطابقة
							</span>
						</div>
						<div class="d-flex justify-content-end w-100">
							<button type="button" class="btn btn-primary w-25 nextBtn"
								(click)="incresseStep()">التالي</button>
						</div>
					</div>

					<div class="page" *ngIf="step==2">
						<div class="title text-end mb-3">معلومات شخصية</div>
						<div class="form-floating mb-3">
							<input placeholder="Enter your first name" class="form-control" type="text"
								formControlName="FirstName"
								[ngClass]="{'is-invalid': registerForm.get('FirstName').touched && registerForm.get('FirstName').invalid}">
							<label for="firstname" class="form-label">الاسم الأول</label>
							<span
								*ngIf="registerForm.get('FirstName').touched && registerForm.get('FirstName').hasError('required')"
								class="invalid-feedback">
								الاسم الاول مطلوب
							</span>
						</div>
						<div class="form-floating mb-3">
							<input placeholder="Enter your last name" class="form-control" type="text"
								formControlName="LastName"
								[ngClass]="{'is-invalid': registerForm.get('LastName').touched && registerForm.get('LastName').invalid}">
							<label for="lastname" class="form-label">الاسم الثاني</label>
							<span
								*ngIf="registerForm.get('LastName').touched && registerForm.get('LastName').hasError('required')"
								class="invalid-feedback">
								الاسم الثاني مطلوب
							</span>
						</div>
						<div class="form-floating mb-3">
							<input placeholder="Enter your phone number" class="form-control" type="text"
								formControlName="Phone"
								[ngClass]="{'is-invalid': registerForm.get('Phone').touched && registerForm.get('Phone').invalid || registerForm.get('Phone').hasError('invalidPhoneNumber')}">
							<label for="phoneNumber" class="form-label">رقم الهاتف</label>
							<span
								*ngIf="registerForm.get('Phone').touched && registerForm.get('Phone').hasError('required') || registerForm.get('Phone').hasError('invalidPhoneNumber')"
								class="invalid-feedback">
								رقم الهاتف غير صالح
							</span>
						</div>
						<div class="form-floating mb-3">
							<input placeholder="Enter your SSN" class="form-control" type="text" formControlName="SSN"
								[ngClass]="{'is-invalid': registerForm.get('SSN').touched && registerForm.get('SSN').invalid || registerForm.get('SSN').hasError('invalidsnn')}">
							<label for="ssn" class="form-label">الرقم القومي</label>
							<span
								*ngIf="registerForm.get('SSN').touched && registerForm.get('SSN').hasError('required') || registerForm.get('SSN').hasError('invalidsnn')"
								class="invalid-feedback">
								الرقم القومي غير صالح
							</span>
						</div>
						<div class="d-flex justify-content-end w-100 gap-4">
							<button class="btn btn-primary prev-1 prev" type="button"
								(click)="decresseStep()">السابق</button>
							<button class="btn btn-primary next-1 next" type="button"
								(click)="incresseStep()">التالي</button>
						</div>
					</div>

					<div class="page" *ngIf="step==3">
						<div class="title text-end mb-3">معلومات الحساب</div>
						<div class="mb-3">
							<label for="AccountType" class="label">نوع الحساب</label>
							<select class="form-select" id="AccountType" formControlName="AccountType">
								<option class="text-end" value="Customer">شخصي</option>
								<option class="text-end" value="Vendor">تجاري</option>
								<option class="text-end" value="ServiceProvider">خدمي</option>
							</select>
						</div>
						<div class="mb-3" id="genre"
							*ngIf="registerForm.get('AccountType').value !='Customer' && registerForm.get('AccountType').value !='' ">
							<label for="Specialization" class="label">التخصص</label>
							<select class="form-select" id="Specialization" formControlName="Specialization">
								<option class="text-end" value="Blumber">سباك</option>
								<option class="text-end" value="Electric">كهربائي</option>
								<option class="text-end" value="Groery">جزارة</option>
								<option class="text-end" value="Others">اخري</option>
							</select>
						</div>
						<div class="d-flex justify-content-end w-100 gap-4">
							<button type="button" class="btn btn-primary" (click)="decresseStep()">السابق</button>
							<button type="button" class="btn btn-primary" [ngClass]="submited? 'disabled':''" (click)="onSubmit()">
								ارسال
								<i class="fa-duotone fa-spinner-third fa-spin" *ngIf="submited"></i>
							</button>
						</div>
					</div>

				</form>
			</div>
		</div>
		<div class="col-6 d-none d-md-block">
			<div class="d-flex justify-content-center">
				<img class="w-75" src="assets/SVG/signin.svg" alt="logo">
			</div>
		</div>
	</div>

</div>
